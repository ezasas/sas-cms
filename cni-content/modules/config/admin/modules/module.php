<?php if (!defined('basePath')) exit('No direct script access allowed');$tablename 	= $this->table_prefix.'modules';$tableId 	= 'module_id';$query		= 'select * from '.$tablename.' order by module_name';$data 		= array(	'Module Name' 	=> 'module_name.text..align="left"',	'Status' 		=> 'status.custom.setStatus.width="80".align="center"',	'Install'		=> 'status.checkbox..width="70".align="center"',	'Delete'		=> 'id.delete');function setStatus($data){		$status = $data['status']=='1'?'Installed':'Not installed';	return $status;}$this->data->addSearch('module_name');$this->data->onUpdate('updateModule()');$this->data->init($query,10,10);function updateModule(){		global $system;		foreach($_POST['checkbox'] as $moduleID => $v){				$moduleName = $system->db->getOne("select module_name from ".$system->table_prefix."modules where module_id='".$moduleID."'");		if(file_exists(modulePath.$moduleName.'/install.php')){			include modulePath.$moduleName.'/install.php';			@chmod(modulePath.$moduleName.'/install.php',777);			@unlink(modulePath.$moduleName.'/install.php');		}	}}?><div class="box">	<div class="box-header with-border">		<div class="widget-header">			<h4 class="widget-title"></h4>			<div class="widget-toolbar">				<a href="javascript:void(0)" class="btn btn-sm btn-flat btn-info" onclick="scan()"><i class="fa fa-search"></i> Scan new module</a>			</div>		</div>	</div>	<div class="box-body">		<div class="widget-main">			<div class="default-form form-actions-inner">								<?php $this->data->getPage($tablename,$tableId,$data);?>			</div>		</div>	</div>	</div><script>function scan(){	$("#frmScan").submit();}</script>